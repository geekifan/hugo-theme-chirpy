<!-- The Side Bar -->
<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
    <header class="profile-wrapper">
      <a href="{{ "/" | relURL }}" id="avatar" class="rounded-circle">
        {{- if .Site.Params.avatar -}}
          {{- $avatar := resources.Get .Site.Params.avatar -}}
          {{- if $avatar -}}
            <img src="{{ $avatar.RelPermalink }}" width="112" height="112" alt="avatar" onerror="this.style.display='none'">
          {{- else -}}
            <img src="{{ .Site.Params.avatar | absURL }}" width="112" height="112" alt="avatar" onerror="this.style.display='none'">
          {{- end -}}
        {{- end -}}
      </a>
  
      <a class="site-title d-block" href="{{ "/" | relURL }}">{{ .Site.Title }}</a>
      <p class="site-subtitle fst-italic mb-0">{{ .Site.Params.tagline }}</p>
    </header>
    <!-- .profile-wrapper -->

    <nav class="flex-column flex-grow-1 w-100 ps-0">
      <ul class="nav">
        {{ range .Site.Menus.main }}
          <li class="nav-item{{ if eq .URL $.RelPermalink }} active{{ end }}">
            <a href="{{ .URL | relURL }}" class="nav-link">
              <i class="{{ .Pre }}"></i>
              <span>{{ (i18n (printf "tabs.%s" .Identifier) | default .Name) | upper }}</span>
            </a>
          </li>
          <!-- .nav-item -->
        {{ end }}
      </ul>
    </nav>

    <div class="sidebar-bottom d-flex flex-wrap align-items-center w-100">
      {{ if not .Site.Params.themeMode }}
        <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle">
          <i class="fas fa-adjust"></i>
        </button>
  
        {{ if .Site.Params.social }}
          <span class="icon-border"></span>
        {{ end }}
      {{ end }}
  
      {{ range .Site.Params.social }}
        {{ $url := "" }}
        {{ $rel := "" }}
        
        {{ if eq .type "github" }}
          {{ $url = printf "https://github.com/%s" .id }}
        {{ else if eq .type "twitter" }}
          {{ $url = printf "https://twitter.com/%s" .id }}
        {{ else if eq .type "email" }}
          {{ $emailParts := split .id "@" }}
          {{ $url = printf "javascript:location.href = 'mailto:' + ['%s','%s'].join('@')" (index $emailParts 0) (index $emailParts 1) }}
        {{ else if eq .type "rss" }}
          {{ $url = "index.xml" | relURL }}
        {{ else }}
          {{ $url = .url }}
        {{ end }}
  
        {{ if $url }}
          <a
            href="{{ $url }}"
            aria-label="{{ .type }}"
            {{ if not .noblank }}target="_blank" rel="noopener noreferrer"{{ end }}
            {{ if eq .type "mastodon" }}rel="me"{{ end }}
          >
            <i class="{{ .icon }}"></i>
          </a>
        {{ end }}
      {{ end }}
    </div>
    <!-- .sidebar-bottom -->
  </aside>
  <!-- #sidebar -->